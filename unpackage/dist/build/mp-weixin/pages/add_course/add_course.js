"use strict";const e=require("../../common/vendor.js"),a={data:()=>({scheduleName:"",courseData:{name:"",room:"",teacher:"",weekDay:1,classTime:1,week:[]},weekDayRange:[{value:"1",text:"星期一"},{value:"2",text:"星期二"},{value:"3",text:"星期三"},{value:"4",text:"星期四"},{value:"5",text:"星期五"},{value:"6",text:"星期六"},{value:"7",text:"星期日"}],classTimeRange:[{value:"1",text:"一"},{value:"2",text:"二"},{value:"3",text:"三"},{value:"4",text:"四"},{value:"5",text:"五"}],weekRange:[{value:"1",text:"第一周"},{value:"2",text:"第二周"},{value:"3",text:"第三周"},{value:"4",text:"第四周"},{value:"5",text:"第五周"},{value:"6",text:"第六周"},{value:"7",text:"第七周"},{value:"8",text:"第八周"},{value:"9",text:"第九周"},{value:"10",text:"第十周"},{value:"11",text:"第十一周"},{value:"12",text:"第十二周"},{value:"13",text:"第十三周"},{value:"14",text:"第十四周"},{value:"15",text:"第十五周"},{value:"16",text:"第十六周"},{value:"17",text:"第十七周"},{value:"18",text:"第十八周"},{value:"19",text:"第十九周"},{value:"20",text:"第二十周"}],rules:{name:{rules:[{required:!0,errorMessage:"请输入课程名称"}]},room:{rules:[{required:!0,errorMessage:"请输入上课地点"}]},teacher:{rules:[{required:!0,errorMessage:"请输入教师名称"}]},weekDay:{rules:[{required:!0,errorMessage:"请选择星期几"}]},classTime:{rules:[{required:!0,errorMessage:"请选择第几节课"}]},week:{rules:[{required:!0,errorMessage:"请选择周范围"}]}}}),onLoad(e){this.scheduleName=decodeURIComponent(e.name)},onReady(){this.$refs.form.setRules(this.rules)},methods:{backToScheduleDetail(){e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail?name="+encodeURIComponent(this.scheduleName)})},submit(a){this.$refs.form.validate().then((a=>{console.log("提交的课程数据：",this.courseData);const t=e.index.getStorageSync("schedules");if(t){const a=JSON.parse(t),s=a.find((e=>e.name===this.scheduleName));s&&(s.course.push(this.courseData),s.course.sort(((e,a)=>e.weekDay===a.weekDay?e.classTime-a.classTime:e.weekDay-a.weekDay)),e.index.setStorageSync("schedules",JSON.stringify(a)))}e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail?name="+encodeURIComponent(this.scheduleName)})})).catch((e=>{console.log("表单错误信息：",e)}))},selectOddWeeks(){this.courseData.week=this.weekRange.filter((e=>e.value%2!=0)).map((e=>e.value))},selectEvenWeeks(){this.courseData.week=this.weekRange.filter((e=>e.value%2==0)).map((e=>e.value))},selectAllWeeks(){this.courseData.week=this.weekRange.map((e=>e.value))},change(e){console.log("星期几：",this.courseData.weekDay),console.log("第几节课：",this.courseData.classTime),console.log("周范围：",this.courseData.week)}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const t=e._export_sfc(a,[["render",function(a,t,s,l,o,u){return{a:e.o((e=>o.courseData.name=e)),b:e.p({placeholder:"请输入课程名称",modelValue:o.courseData.name}),c:e.p({label:"课程名称",name:"name"}),d:e.o((e=>o.courseData.room=e)),e:e.p({placeholder:"请输入上课地点",modelValue:o.courseData.room}),f:e.p({label:"上课地点",name:"room"}),g:e.o((e=>o.courseData.teacher=e)),h:e.p({placeholder:"请输入教师姓名",modelValue:o.courseData.teacher}),i:e.p({label:"教师姓名",name:"teacher"}),j:e.o(u.change),k:e.o((e=>o.courseData.weekDay=e)),l:e.p({localdata:o.weekDayRange,modelValue:o.courseData.weekDay}),m:e.p({label:"星期几",name:"weekDay"}),n:e.o(u.change),o:e.o((e=>o.courseData.classTime=e)),p:e.p({localdata:o.classTimeRange,modelValue:o.courseData.classTime}),q:e.p({label:"第几节课",name:"classTime"}),r:e.o(u.change),s:e.o((e=>o.courseData.week=e)),t:e.p({multiple:!0,localdata:o.weekRange,modelValue:o.courseData.week}),v:e.p({label:"周范围",name:"week"}),w:e.o(((...e)=>u.selectOddWeeks&&u.selectOddWeeks(...e))),x:e.o(((...e)=>u.selectEvenWeeks&&u.selectEvenWeeks(...e))),y:e.o(((...e)=>u.selectAllWeeks&&u.selectAllWeeks(...e))),z:e.o(((...e)=>u.submit&&u.submit(...e))),A:e.o(((...e)=>u.backToScheduleDetail&&u.backToScheduleDetail(...e))),B:e.sr("form","e52173ae-0"),C:e.p({modelValue:o.courseData,"label-width":"80px",rules:o.rules})}}],["__scopeId","data-v-e52173ae"]]);wx.createPage(t);
