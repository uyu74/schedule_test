"use strict";const e=require("../../common/vendor.js"),s={data:()=>({schedule:null,selectedCourses:[]}),methods:{deleteCourses(){if(0===this.selectedCourses.length&&this.schedule.course.length)return void e.index.showToast({title:"请选择要删除的课程",icon:"none"});0===this.schedule.course.length&&e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail?name="+encodeURIComponent(this.schedule.name)});const s=this.selectedCourses.map((e=>this.schedule.course[e].name)),t=this.schedule.course.filter(((e,s)=>!this.selectedCourses.includes(s)));this.schedule.course=t;const n=e.index.getStorageSync("schedules");if(n){const s=JSON.parse(n).map((e=>e.name===this.schedule.name?this.schedule:e));e.index.setStorageSync("schedules",JSON.stringify(s))}e.index.showToast({title:`已删除课程：${s.join("，")}`,icon:"success"}),this.selectedCourses=[],e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail?name="+encodeURIComponent(this.schedule.name)})},selectionChange(e){this.selectedCourses=e.detail.index,console.log("选中的课程",this.selectedCourses)}},onLoad(s){const t=decodeURIComponent(s.name),n=e.index.getStorageSync("schedules");if(n){const e=JSON.parse(n);this.schedule=e.find((e=>e.name===t)),console.log("找到对应的课程表",this.schedule)}else console.log("未找到对应的课程表")}};if(!Array){(e.resolveComponent("uni-th")+e.resolveComponent("uni-tr")+e.resolveComponent("uni-td")+e.resolveComponent("uni-table"))()}Math||((()=>"../../uni_modules/uni-table/components/uni-th/uni-th.js")+(()=>"../../uni_modules/uni-table/components/uni-tr/uni-tr.js")+(()=>"../../uni_modules/uni-table/components/uni-td/uni-td.js")+(()=>"../../uni_modules/uni-table/components/uni-table/uni-table.js"))();const t=e._export_sfc(s,[["render",function(s,t,n,o,c,i){return e.e({a:c.schedule},c.schedule?{b:e.p({width:"150",align:"center"}),c:e.f(c.schedule.course,((s,t,n)=>({a:e.t(s.name),b:"becf83ab-4-"+n+",becf83ab-3-"+n,c:t,d:"becf83ab-3-"+n+",becf83ab-0"}))),d:e.sr("table","becf83ab-0"),e:e.o(i.selectionChange),f:e.p({border:!0,stripe:!0,type:"selection",emptyText:"暂无更多数据"})}:{},{g:e.o(((...e)=>i.deleteCourses&&i.deleteCourses(...e)))})}],["__scopeId","data-v-becf83ab"]]);wx.createPage(t);
