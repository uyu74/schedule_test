"use strict";const t=require("../../common/vendor.js"),o={data:()=>({todoContent:"",todoTime:"",todoTimeDate:"",todoTimeClock:"00:00",todoRemark:"",todos:[]}),computed:{currentTime(){const t=new Date;let o=t.getFullYear(),e=t.getMonth()+1,d=t.getDate();return e=e>9?e:"0"+e,d=d>9?d:"0"+d,this.todoTimeDate=`${o}-${e}-${d}`,`${o}-${e}-${d}`},disableButton(){return!this.todoContent.trim()}},methods:{refreshStorage(o){let e=t.index.getStorageSync("todo-list"),d=e.findIndex((t=>t.time>o.time));return-1==d?e.push(o):(console.log(d),e.splice(d,0,o)),t.index.setStorageSync("todo-list",e),!0},refreshTodoShown(t){this.todos.push(t)},initTodoList(){t.index.getStorageSync("todo-list")||t.index.setStorageSync("todo-list",[])},addTodo(){this.initTodoList();const o={content:this.todoContent,time:this.todoTimeDate+" "+this.todoTimeClock,remark:this.todoRemark};0!=this.refreshStorage(o)?(this.refreshTodoShown(o),this.todoContent="",this.todoRemark=""):t.index.showToast({content:"内存操作异常",icon:"error"})},changeDate(t){this.todoTimeDate=t.detail.value},changeClock(t){this.todoTimeClock=t.detail.value;let o=this.todoTimeClock.split(":");"0"==o[0]&&o[0].push("0"),"0"==o[1]&&o[1].push("0"),this.todoTimeClock=o[0]+":"+o[1],console.log(this.todoTimeClock)}}};const e=t._export_sfc(o,[["render",function(o,e,d,i,n,a){return{a:n.todoContent,b:t.o((t=>n.todoContent=t.detail.value)),c:t.t(n.todoTimeDate),d:a.currentTime,e:n.todoTimeDate,f:t.o(((...t)=>a.changeDate&&a.changeDate(...t))),g:t.t(n.todoTimeClock),h:n.todoTimeClock,i:t.o(((...t)=>a.changeClock&&a.changeClock(...t))),j:n.todoRemark,k:t.o((t=>n.todoRemark=t.detail.value)),l:a.disableButton?1:"",m:a.disableButton?"":1,n:a.disableButton,o:t.o(((...t)=>a.addTodo&&a.addTodo(...t))),p:t.o(((...t)=>a.addTodo&&a.addTodo(...t))),q:t.f(n.todos,((o,e,d)=>({a:t.t(o.content),b:t.t(o.time),c:t.t(o.remark),d:e})))}}],["__scopeId","data-v-cd99b589"]]);wx.createPage(e);
