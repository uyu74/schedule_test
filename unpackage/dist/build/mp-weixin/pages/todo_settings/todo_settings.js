"use strict";const t=require("../../common/vendor.js"),o={data:()=>({todoContent:"",todoTime:"",todoTimeDate:"",todoTimeClock:"00:00",todoRemark:"",index:0}),computed:{currentTime(){const t=new Date;let o=t.getFullYear(),e=t.getMonth()+1,d=t.getDate();return e=e>9?e:"0"+e,d=d>9?d:"0"+d,this.todoTimeDate=`${o}-${e}-${d}`,`${o}-${e}-${d}`},disableButton(){return!this.todoContent.trim()}},onLoad(o){this.index=o.id;let e=t.index.getStorageSync("todo-list");console.log(o,e[o.id]);let d=e[o.id].time.split(" ");this.todoContent=e[o.id].content,this.todoRemark=e[o.id].remark,this.todoTimeDate=d[0],this.todoTimeClock=d[1],this.todoTime=e[o.id].time},methods:{refreshStorage(o){let e=t.index.getStorageSync("todo-list");e.splice(this.index,1);let d=e.findIndex((t=>t.time>o.time));return-1==d?e.push(o):(console.log(d),e.splice(d,0,o)),t.index.setStorageSync("todo-list",e),!0},addTodo(){const o={content:this.todoContent,time:this.todoTimeDate+" "+this.todoTimeClock,remark:this.todoRemark};0!=this.refreshStorage(o)?(this.todoContent="",this.todoRemark="",t.index.navigateBack()):t.index.showToast({content:"内存操作异常",icon:"error"})},changeDate(t){this.todoTimeDate=t.detail.value},changeClock(t){this.todoTimeClock=t.detail.value;let o=this.todoTimeClock.split(":");"0"==o[0]&&o[0].push("0"),"0"==o[1]&&o[1].push("0"),this.todoTimeClock=o[0]+":"+o[1],console.log(this.todoTimeClock)}}};const e=t._export_sfc(o,[["render",function(o,e,d,i,n,a){return{a:n.todoContent,b:t.o((t=>n.todoContent=t.detail.value)),c:t.t(n.todoTimeDate),d:a.currentTime,e:n.todoTimeDate,f:t.o(((...t)=>a.changeDate&&a.changeDate(...t))),g:t.t(n.todoTimeClock),h:n.todoTimeClock,i:t.o(((...t)=>a.changeClock&&a.changeClock(...t))),j:n.todoRemark,k:t.o((t=>n.todoRemark=t.detail.value)),l:a.disableButton?1:"",m:a.disableButton?"":1,n:a.disableButton,o:t.o(((...t)=>a.addTodo&&a.addTodo(...t))),p:t.o(((...t)=>a.addTodo&&a.addTodo(...t)))}}],["__scopeId","data-v-674fedfe"]]);wx.createPage(e);
