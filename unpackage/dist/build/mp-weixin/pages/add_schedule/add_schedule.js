"use strict";const e=require("../../common/vendor.js"),t={data(){return{schedules:this.getSchedulesFromStorage(),baseFormData:{name:"",date:this.getTodayDate()},rules:{name:{rules:[{required:!0,errorMessage:"请输入课表名称"}]},date:{rules:[{required:!0,errorMessage:"请选择日期"},{validateFunction:function(e,t,a,o){const s=new Date(t).getDay();return console.log(s),1!==s&&o("请选择一个周一"),!0}}]}}}},onReady(){this.$refs.form.setRules(this.rules)},methods:{backToScheduleDetail(){e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail"})},change(e){console.log(e)},submit(t){console.log(this.baseFormData.name),console.log(this.baseFormData.date),this.$refs.form.validate().then((t=>{console.log("表单数据信息：",t);const a={name:this.baseFormData.name,date:this.baseFormData.date,course:[]};this.schedules.push(a),e.index.setStorageSync("schedules",JSON.stringify(this.schedules)),console.log(this.baseFormData.name),e.index.navigateTo({url:"/pages/schedule_detail/schedule_detail?name="+encodeURIComponent(this.baseFormData.name)})})).catch((e=>{console.log("表单错误信息：",e)}))},getSchedulesFromStorage(){try{const t=e.index.getStorageSync("schedules");return t?JSON.parse(t):[]}catch(t){return console.error("Error parsing schedules from storage:",t),[]}},getTodayDate(){const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},getTodayDate(){const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},change(e){console.log(this.baseFormData.name),console.log(this.baseFormData.date)}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-datetime-picker")+e.resolveComponent("uni-card")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.js")+(()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const a=e._export_sfc(t,[["render",function(t,a,o,s,n,r){return{a:e.o(r.change),b:e.o((e=>n.baseFormData.name=e)),c:e.p({placeholder:"请输入课表名称",modelValue:n.baseFormData.name}),d:e.p({label:"课表名称",name:"name"}),e:e.o(r.change),f:e.o((e=>n.baseFormData.date=e)),g:e.p({type:"date","return-type":"date",modelValue:n.baseFormData.date}),h:e.p({"is-shadow":!1,"is-full":!0}),i:e.p({label:"日期时间",name:"date"}),j:e.o(((...e)=>r.submit&&r.submit(...e))),k:e.o(((...e)=>r.backToScheduleDetail&&r.backToScheduleDetail(...e))),l:e.sr("form","3a511f24-0"),m:e.p({model:n.baseFormData,labelWidth:"80px",rules:n.rules})}}]]);wx.createPage(a);
